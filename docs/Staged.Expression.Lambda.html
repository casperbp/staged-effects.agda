<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Staged.Expression.Lambda</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Staged.Expression.Lambda.html" class="Module">Staged.Expression.Lambda</a> <a id="33" class="Keyword">where</a>

<a id="40" class="Keyword">open</a> <a id="45" class="Keyword">import</a> <a id="52" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="82" class="Keyword">open</a> <a id="87" class="Keyword">import</a> <a id="94" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Data.Product.html" class="Module">Data.Product</a>

<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Container.html" class="Module">Container</a>
<a id="197" class="Keyword">open</a> <a id="202" class="Keyword">import</a> <a id="209" href="Staged.Denote.html" class="Module">Staged.Denote</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Staged.Effects.Lambda.html" class="Module">Staged.Effects.Lambda</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Staged.Value.Core.html" class="Module">Staged.Value.Core</a>

<a id="288" class="Keyword">module</a> <a id="295" href="Staged.Expression.Lambda.html#295" class="Module">_</a> <a id="297" class="Keyword">where</a>

  <a id="306" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="314" class="Symbol">:</a> <a id="316" href="Container.html#136" class="Record">Con</a>
  <a id="322" href="Container.html#184" class="Field">Con.S</a> <a id="328" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="336" class="Symbol">=</a> <a id="338" class="Symbol">(</a><a id="339" href="Staged.Effects.Lambda.html#588" class="Function">Name</a> <a id="344" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="346" href="Staged.Effects.Lambda.html#588" class="Function">Name</a><a id="350" class="Symbol">)</a> <a id="352" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="354" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="356" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="358" href="Staged.Effects.Lambda.html#588" class="Function">Name</a>
  <a id="365" href="Container.html#202" class="Field">Con.P</a> <a id="371" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="379" class="Symbol">(</a><a id="380" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="385" class="Symbol">(</a><a id="386" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="391" href="Staged.Expression.Lambda.html#391" class="Bound">x</a> <a id="393" class="Symbol">))</a> <a id="396" class="Symbol">=</a> <a id="398" href="Data.Empty.html#526" class="Datatype">⊥</a>     <a id="404" class="Comment">-- var x</a>
  <a id="415" href="Container.html#202" class="Field">Con.P</a> <a id="421" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="429" class="Symbol">(</a><a id="430" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="435" class="Symbol">(</a><a id="436" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="441" href="Staged.Expression.Lambda.html#441" class="Bound">y</a> <a id="443" class="Symbol">))</a> <a id="446" class="Symbol">=</a> <a id="448" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>     <a id="454" class="Comment">-- abs x e</a>
  <a id="467" href="Container.html#202" class="Field">Con.P</a> <a id="473" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="481" class="Symbol">(</a><a id="482" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="487" class="Symbol">(</a><a id="488" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="493" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="495" class="Symbol">))</a> <a id="498" class="Symbol">=</a> <a id="500" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>  <a id="506" class="Comment">-- app e e</a>
  <a id="519" href="Container.html#202" class="Field">Con.P</a> <a id="525" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="533" class="Symbol">(</a><a id="534" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="539" class="Symbol">(</a><a id="540" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="545" href="Staged.Expression.Lambda.html#545" class="Bound">y</a> <a id="547" class="Symbol">))</a> <a id="550" class="Symbol">=</a> <a id="552" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>  <a id="558" class="Comment">-- letin x e e</a>

<a id="574" class="Keyword">module</a> <a id="581" href="Staged.Expression.Lambda.html#581" class="Module">_</a> <a id="583" class="Symbol">{</a><a id="584" href="Staged.Expression.Lambda.html#584" class="Bound">V</a> <a id="586" class="Symbol">:</a> <a id="588" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="591" class="Symbol">}</a> <a id="593" class="Keyword">where</a> 

  <a id="603" href="Staged.Expression.Lambda.html#603" class="Function">⟦lambda⟧</a> <a id="612" class="Symbol">:</a>   <a id="616" class="Symbol">⦃</a> <a id="618" href="Staged.Effects.Lambda.html#769" class="Function">LamSig</a> <a id="625" href="Staged.Expression.Lambda.html#584" class="Bound">V</a> <a id="627" href="Staged.Denote.Sig.html#753" class="Record Operator">⊏</a> <a id="629" href="Staged.Denote.Sig.html#1030" class="Generalizable">ζ</a> <a id="631" class="Symbol">⦄</a>
             <a id="646" class="Symbol">→</a> <a id="648" class="Symbol">⦃</a> <a id="650" href="Staged.Effects.Lambda.html#1571" class="Datatype">Closure</a> <a id="658" href="Staged.Expression.Lambda.html#584" class="Bound">V</a> <a id="660" href="Staged.Value.Core.html#125" class="Record Operator">⊂</a> <a id="662" href="Staged.Expression.Lambda.html#584" class="Bound">V</a> <a id="664" class="Symbol">⦄</a>
               <a id="681" class="Comment">------------------</a>
             <a id="713" class="Symbol">→</a> <a id="715" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="723" href="Staged.Denote.Tree.html#1377" class="Record Operator">⟨</a> <a id="725" href="Staged.Denote.Sig.html#1030" class="Generalizable">ζ</a> <a id="727" href="Staged.Denote.Tree.html#1377" class="Record Operator">⟩⇒</a> <a id="730" href="Staged.Expression.Lambda.html#584" class="Bound">V</a>
  
  <a id="737" href="Staged.Denote.Tree.html#1437" class="Field">denote</a> <a id="744" href="Staged.Expression.Lambda.html#603" class="Function">⟦lambda⟧</a> <a id="753" class="Symbol">(</a><a id="754" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="759" class="Symbol">(</a><a id="760" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="765" href="Staged.Expression.Lambda.html#765" class="Bound">x</a><a id="766" class="Symbol">)</a>  <a id="769" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="771" href="Staged.Expression.Lambda.html#771" class="Bound">p</a><a id="772" class="Symbol">)</a> <a id="774" class="Symbol">=</a> <a id="776" href="Staged.Effects.Lambda.html#3500" class="Function">fetch</a> <a id="782" href="Staged.Expression.Lambda.html#765" class="Bound">x</a>
  <a id="786" href="Staged.Denote.Tree.html#1437" class="Field">denote</a> <a id="793" href="Staged.Expression.Lambda.html#603" class="Function">⟦lambda⟧</a> <a id="802" class="Symbol">(</a><a id="803" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="808" class="Symbol">(</a><a id="809" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="814" href="Staged.Expression.Lambda.html#814" class="Bound">y</a><a id="815" class="Symbol">)</a>  <a id="818" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="820" href="Staged.Expression.Lambda.html#820" class="Bound">p</a><a id="821" class="Symbol">)</a> <a id="823" class="Symbol">=</a> <a id="825" href="Staged.Effects.Lambda.html#3722" class="Function">abs</a> <a id="829" href="Staged.Expression.Lambda.html#814" class="Bound">y</a> <a id="831" class="Symbol">(</a><a id="832" href="Staged.Expression.Lambda.html#820" class="Bound">p</a> <a id="834" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="836" class="Symbol">)</a>
  <a id="840" href="Staged.Denote.Tree.html#1437" class="Field">denote</a> <a id="847" href="Staged.Expression.Lambda.html#603" class="Function">⟦lambda⟧</a> <a id="856" class="Symbol">(</a><a id="857" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="862" class="Symbol">(</a><a id="863" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="868" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="870" class="Symbol">)</a> <a id="872" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="874" href="Staged.Expression.Lambda.html#874" class="Bound">p</a><a id="875" class="Symbol">)</a> <a id="877" class="Symbol">=</a> <a id="879" class="Keyword">do</a>
    <a id="886" href="Staged.Expression.Lambda.html#886" class="Bound">v₁</a> <a id="889" href="Staged.Denote.Tree.html#946" class="Function Operator">←</a> <a id="891" href="Staged.Expression.Lambda.html#874" class="Bound">p</a> <a id="893" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
    <a id="903" href="Staged.Expression.Lambda.html#903" class="Bound">v₂</a> <a id="906" href="Staged.Denote.Tree.html#946" class="Function Operator">←</a> <a id="908" href="Staged.Expression.Lambda.html#874" class="Bound">p</a> <a id="910" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
    <a id="919" href="Staged.Effects.Lambda.html#3941" class="Function">app</a> <a id="923" href="Staged.Expression.Lambda.html#886" class="Bound">v₁</a> <a id="926" href="Staged.Expression.Lambda.html#903" class="Bound">v₂</a>
  <a id="931" href="Staged.Denote.Tree.html#1437" class="Field">denote</a> <a id="938" href="Staged.Expression.Lambda.html#603" class="Function">⟦lambda⟧</a> <a id="947" class="Symbol">(</a><a id="948" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="953" class="Symbol">(</a><a id="954" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="959" href="Staged.Expression.Lambda.html#959" class="Bound">y</a><a id="960" class="Symbol">)</a>  <a id="963" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="965" href="Staged.Expression.Lambda.html#965" class="Bound">p</a><a id="966" class="Symbol">)</a> <a id="968" class="Symbol">=</a> <a id="970" class="Keyword">do</a>
    <a id="977" href="Staged.Expression.Lambda.html#977" class="Bound">v</a> <a id="979" href="Staged.Denote.Tree.html#946" class="Function Operator">←</a> <a id="981" href="Staged.Expression.Lambda.html#965" class="Bound">p</a> <a id="983" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
    <a id="993" href="Staged.Effects.Lambda.html#4160" class="Function">letbind</a> <a id="1001" href="Staged.Expression.Lambda.html#959" class="Bound">y</a> <a id="1003" href="Staged.Expression.Lambda.html#977" class="Bound">v</a> <a id="1005" class="Symbol">(</a><a id="1006" href="Staged.Expression.Lambda.html#965" class="Bound">p</a> <a id="1008" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="1012" class="Symbol">)</a>

<a id="1015" class="Keyword">module</a> <a id="1022" href="Staged.Expression.Lambda.html#1022" class="Module">_</a> <a id="1024" class="Keyword">where</a> 

  <a id="1034" href="Staged.Expression.Lambda.html#1034" class="Function">var&#39;</a> <a id="1039" class="Symbol">:</a> <a id="1041" class="Symbol">⦃</a> <a id="1043" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="1051" href="Container.html#717" class="Record Operator">≺</a> <a id="1053" href="Container.html#370" class="Generalizable">C</a> <a id="1055" class="Symbol">⦄</a> <a id="1057" class="Symbol">→</a> <a id="1059" href="Staged.Effects.Lambda.html#588" class="Function">Name</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="Container.html#301" class="Datatype">μ</a> <a id="1068" href="Container.html#370" class="Generalizable">C</a>
  <a id="1072" href="Staged.Expression.Lambda.html#1034" class="Function">var&#39;</a> <a id="1077" href="Staged.Expression.Lambda.html#1077" class="Bound">x</a> <a id="1079" class="Symbol">=</a> <a id="1081" href="Container.html#1040" class="Function">inject</a> <a id="1088" class="Symbol">((</a><a id="1090" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1101" href="Staged.Expression.Lambda.html#1077" class="Bound">x</a><a id="1102" class="Symbol">))</a> <a id="1105" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1107" class="Symbol">λ())</a>

  <a id="1115" href="Staged.Expression.Lambda.html#1115" class="Function">abs&#39;</a> <a id="1120" class="Symbol">:</a> <a id="1122" class="Symbol">⦃</a> <a id="1124" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="1132" href="Container.html#717" class="Record Operator">≺</a> <a id="1134" href="Container.html#370" class="Generalizable">C</a> <a id="1136" class="Symbol">⦄</a> <a id="1138" class="Symbol">→</a> <a id="1140" href="Staged.Effects.Lambda.html#588" class="Function">Name</a> <a id="1145" class="Symbol">→</a> <a id="1147" href="Container.html#301" class="Datatype">μ</a> <a id="1149" href="Container.html#370" class="Generalizable">C</a> <a id="1151" class="Symbol">→</a> <a id="1153" href="Container.html#301" class="Datatype">μ</a> <a id="1155" href="Container.html#370" class="Generalizable">C</a>
  <a id="1159" href="Staged.Expression.Lambda.html#1115" class="Function">abs&#39;</a> <a id="1164" href="Staged.Expression.Lambda.html#1164" class="Bound">x</a> <a id="1166" href="Staged.Expression.Lambda.html#1166" class="Bound">e</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Container.html#1040" class="Function">inject</a> <a id="1177" class="Symbol">((</a><a id="1179" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1184" class="Symbol">(</a><a id="1185" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1190" href="Staged.Expression.Lambda.html#1164" class="Bound">x</a><a id="1191" class="Symbol">))</a> <a id="1194" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1196" class="Symbol">λ</a> <a id="1198" href="Staged.Expression.Lambda.html#1198" class="Bound">_</a> <a id="1200" class="Symbol">→</a> <a id="1202" href="Staged.Expression.Lambda.html#1166" class="Bound">e</a><a id="1203" class="Symbol">)</a>

  <a id="1208" href="Staged.Expression.Lambda.html#1208" class="Function">app&#39;</a> <a id="1213" class="Symbol">:</a> <a id="1215" class="Symbol">⦃</a> <a id="1217" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="1225" href="Container.html#717" class="Record Operator">≺</a> <a id="1227" href="Container.html#370" class="Generalizable">C</a> <a id="1229" class="Symbol">⦄</a> <a id="1231" class="Symbol">→</a> <a id="1233" href="Container.html#301" class="Datatype">μ</a> <a id="1235" href="Container.html#370" class="Generalizable">C</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="Container.html#301" class="Datatype">μ</a> <a id="1241" href="Container.html#370" class="Generalizable">C</a> <a id="1243" class="Symbol">→</a> <a id="1245" href="Container.html#301" class="Datatype">μ</a> <a id="1247" href="Container.html#370" class="Generalizable">C</a>
  <a id="1251" href="Staged.Expression.Lambda.html#1208" class="Function">app&#39;</a> <a id="1256" href="Staged.Expression.Lambda.html#1256" class="Bound">e₁</a> <a id="1259" href="Staged.Expression.Lambda.html#1259" class="Bound">e₂</a> <a id="1262" class="Symbol">=</a> <a id="1264" href="Container.html#1040" class="Function">inject</a> <a id="1271" class="Symbol">((</a><a id="1273" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1284" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="1286" class="Symbol">))</a> <a id="1289" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1291" class="Symbol">λ</a> <a id="1293" class="Symbol">{</a> <a id="1295" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="Staged.Expression.Lambda.html#1256" class="Bound">e₁</a> <a id="1306" class="Symbol">;</a> <a id="1308" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Staged.Expression.Lambda.html#1259" class="Bound">e₂</a> <a id="1318" class="Symbol">})</a>

  <a id="1324" href="Staged.Expression.Lambda.html#1324" class="Function">let&#39;</a> <a id="1329" class="Symbol">:</a> <a id="1331" class="Symbol">⦃</a> <a id="1333" href="Staged.Expression.Lambda.html#306" class="Function">LamExpr</a> <a id="1341" href="Container.html#717" class="Record Operator">≺</a> <a id="1343" href="Container.html#370" class="Generalizable">C</a> <a id="1345" class="Symbol">⦄</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Staged.Effects.Lambda.html#588" class="Function">Name</a> <a id="1354" class="Symbol">→</a> <a id="1356" href="Container.html#301" class="Datatype">μ</a> <a id="1358" href="Container.html#370" class="Generalizable">C</a> <a id="1360" class="Symbol">→</a> <a id="1362" href="Container.html#301" class="Datatype">μ</a> <a id="1364" href="Container.html#370" class="Generalizable">C</a> <a id="1366" class="Symbol">→</a> <a id="1368" href="Container.html#301" class="Datatype">μ</a> <a id="1370" href="Container.html#370" class="Generalizable">C</a>
  <a id="1374" href="Staged.Expression.Lambda.html#1324" class="Function">let&#39;</a> <a id="1379" href="Staged.Expression.Lambda.html#1379" class="Bound">x</a> <a id="1381" href="Staged.Expression.Lambda.html#1381" class="Bound">e₁</a> <a id="1384" href="Staged.Expression.Lambda.html#1384" class="Bound">e₂</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Container.html#1040" class="Function">inject</a> <a id="1396" class="Symbol">((</a><a id="1398" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1403" class="Symbol">(</a><a id="1404" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1409" href="Staged.Expression.Lambda.html#1379" class="Bound">x</a><a id="1410" class="Symbol">))</a> <a id="1413" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1415" class="Symbol">λ</a> <a id="1417" class="Symbol">{</a> <a id="1419" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1425" class="Symbol">→</a> <a id="1427" href="Staged.Expression.Lambda.html#1381" class="Bound">e₁</a> <a id="1430" class="Symbol">;</a> <a id="1432" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="Staged.Expression.Lambda.html#1384" class="Bound">e₂</a>  <a id="1443" class="Symbol">})</a>
</pre></body></html>